--- origsrc/audacious-2.1/m4/buildsys.m4	2009-07-06 17:39:11.000000000 -0500
+++ src/audacious-2.1/m4/buildsys.m4	2009-11-16 21:10:14.081096400 -0600
@@ -100,7 +100,23 @@ AC_DEFUN([BUILDSYS_SHARED_LIB], [
 			UNINSTALL_LIB='rm -f ${DESTDIR}${libdir}/$$i'
 			CLEAN_LIB=''
 			;;
-		*-*-cygwin* | *-*-mingw*)
+		*-*-cygwin*)
+			AC_MSG_RESULT(Cygwin)
+			LIB_CPPFLAGS='-DPIC'
+			LIB_CFLAGS=''
+			LIB_LDFLAGS='-shared -Wl,--out-implib,$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			LIB_PREFIX='cyg'
+			LIB_SUFFIX='-${LIB_MAJOR}.dll'
+			PLUGIN_CPPFLAGS=''
+			PLUGIN_CFLAGS=''
+			PLUGIN_LDFLAGS='-shared'
+			PLUGIN_SUFFIX='.dll'
+			RPATH_LDFLAGS=''
+			INSTALL_LIB='${MKDIR_P} ${DESTDIR}${bindir} && ${INSTALL} -m 755 $$i ${DESTDIR}${bindir}/$$i && ${INSTALL} -m 644 $(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a) ${DESTDIR}${libdir}/$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			UNINSTALL_LIB='rm -f ${DESTDIR}${bindir}/$$i ${DESTDIR}${libdir}/$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			CLEAN_LIB='$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			;;
+		*-*-mingw*)
 			AC_MSG_RESULT(Win32)
 			LIB_CPPFLAGS='-DPIC'
 			LIB_CFLAGS=''
--- origsrc/audacious-2.1/src/audacious/Makefile	2009-07-06 17:39:12.000000000 -0500
+++ src/audacious-2.1/src/audacious/Makefile	2009-11-16 21:16:05.082708500 -0600
@@ -117,7 +117,7 @@ DATA = images/about-logo.png				\
        ui/carbon-menubar.ui
 
 CLEAN = build_stamp.c libaudacious.exe.a
-EXT_DEPS = ../libguess/libguess.a ../libSAD/${LIB_PREFIX}SAD${LIB_SUFFIX}
+EXT_DEPS = ../libguess/libguess.a
 
 ifeq ($(USE_EGGSM),yes)
 EXT_DEPS += ../libeggsmclient/libeggsmclient.a
--- origsrc/audacious-2.1/src/audtool/Makefile	2009-07-06 17:39:12.000000000 -0500
+++ src/audacious-2.1/src/audtool/Makefile	2009-11-16 21:42:27.288657500 -0600
@@ -1,4 +1,4 @@
-PROG = audtool2
+PROG = audtool2${PROG_SUFFIX}
 SRCS = main.c				\
        handlers_general.c	\
        handlers_playback.c	\
